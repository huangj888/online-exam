{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-0532881c\"],{\"39f0\":function(e,t,a){\"use strict\";a.d(t,\"j\",(function(){return n})),a.d(t,\"n\",(function(){return l})),a.d(t,\"l\",(function(){return i})),a.d(t,\"m\",(function(){return s})),a.d(t,\"d\",(function(){return c})),a.d(t,\"g\",(function(){return d})),a.d(t,\"e\",(function(){return u})),a.d(t,\"a\",(function(){return m})),a.d(t,\"b\",(function(){return p})),a.d(t,\"f\",(function(){return h})),a.d(t,\"h\",(function(){return f})),a.d(t,\"k\",(function(){return b})),a.d(t,\"c\",(function(){return v})),a.d(t,\"i\",(function(){return g}));var r=a(\"365c\"),o=a(\"b775\");function n(){return Object(o[\"b\"])({url:r[\"a\"].ExamQuestionAll,method:\"get\"})}function l(e){return console.log(e),Object(o[\"b\"])({url:r[\"a\"].ExamQuestionUpdate,method:\"post\",data:e})}function i(){return Object(o[\"b\"])({url:r[\"a\"].ExamQuestionSelection,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function s(e){return console.log(e),Object(o[\"b\"])({url:r[\"a\"].ExamQuestionCreate,method:\"post\",data:e})}function c(){return Object(o[\"b\"])({url:r[\"a\"].ExamAll,method:\"get\"})}function d(){return Object(o[\"b\"])({url:r[\"a\"].ExamQuestionTypeList,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function u(){return Object(o[\"b\"])({url:r[\"a\"].ExamCardList,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function m(e){return console.log(e),Object(o[\"b\"])({url:r[\"a\"].ExamCreate,method:\"post\",data:e})}function p(e){return console.log(e),Object(o[\"b\"])({url:r[\"a\"].ExamUpdate,method:\"post\",data:e})}function h(e){return Object(o[\"b\"])({url:r[\"a\"].ExamDetail+e,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function f(e){return Object(o[\"b\"])({url:r[\"a\"].recordDetail+e,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function b(e){return Object(o[\"b\"])({url:r[\"a\"].QuestionDetail+e,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function v(e,t){return console.log(t),Object(o[\"b\"])({url:r[\"a\"].FinishExam+e,method:\"post\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"},data:t})}function g(){return Object(o[\"b\"])({url:r[\"a\"].ExamRecordList,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}},\"948d\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e._self._c;return t(\"a-card\",{attrs:{bordered:!1}},[t(\"div\",{attrs:{id:\"toolbar\"}},[t(\"a-button\",{attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.createExamModal.create()}}},[e._v(\"新建\")]),e._v(\" \\n    \"),t(\"a-button\",{attrs:{type:\"primary\",icon:\"reload\"},on:{click:function(t){return e.loadAll()}}},[e._v(\"刷新\")])],1),t(\"BootstrapTable\",{ref:\"table\",attrs:{columns:e.columns,data:e.tableData,options:e.options}}),t(\"step-by-step-exam-modal\",{ref:\"createExamModal\",on:{ok:e.handleOk}}),t(\"exam-edit-modal\",{ref:\"editExamModal\",on:{ok:e.handleOk}}),t(\"update-avatar-modal\",{ref:\"updateAvatarModal\",on:{ok:e.handleOk}})],1)},o=[],n=(a(\"cc7e\"),a(\"39f0\")),l=(a(\"7f7f\"),function(){var e=this,t=e._self._c;return t(\"a-modal\",{attrs:{title:\"创建考试\",width:640,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[t(\"a-spin\",{attrs:{spinning:e.confirmLoading}},[t(\"a-steps\",{style:{marginBottom:\"28px\"},attrs:{current:e.currentStep,size:\"small\"}},[t(\"a-step\",{attrs:{title:\"考试描述\"}}),t(\"a-step\",{attrs:{title:\"每题分数\"}}),t(\"a-step\",{attrs:{title:\"选择题目\"}})],1),t(\"a-form\",{attrs:{form:e.form}},[t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:0===e.currentStep,expression:\"currentStep === 0\"}]},[t(\"a-form-item\",{attrs:{label:\"考试名称\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"name\",{rules:[{required:!0}]}],expression:\"['name', {rules: [{required: true}]}]\"}]})],1),t(\"a-form-item\",{attrs:{label:\"考试限时\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input-number\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"elapse\",{initialValue:\"90\",rules:[{required:!0}]}],expression:\"['elapse', {initialValue: '90',rules: [{required: true}]}]\"}],attrs:{min:1,max:200}}),e._v(\"\\n          分钟\\n        \")],1),t(\"a-form-item\",{attrs:{label:\"考试简述\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-textarea\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"desc\",{rules:[{required:!0}]}],expression:\"['desc', {rules: [{required: true}]}]\"}],attrs:{rows:2}})],1),t(\"a-form-item\",{attrs:{label:\"考试封面\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"div\",{attrs:{id:\"summernote-exam-avatar-create\"}})])],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:1===e.currentStep,expression:\"currentStep === 1\"}]},[t(\"a-form-item\",{attrs:{label:\"单选题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input-number\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"radioScore\",{initialValue:\"5\",rules:[{required:!0}]}],expression:\"['radioScore', {initialValue: '5',rules: [{required: true}]}]\"}],attrs:{min:1,max:20}}),e._v(\"\\n          分\\n        \")],1),t(\"a-form-item\",{attrs:{label:\"多选题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input-number\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"checkScore\",{initialValue:\"5\",rules:[{required:!0}]}],expression:\"['checkScore', {initialValue: '5',rules: [{required: true}]}]\"}],attrs:{min:1,max:20}}),e._v(\"\\n          分\\n        \")],1),t(\"a-form-item\",{attrs:{label:\"判断题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input-number\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"judgeScore\",{initialValue:\"5\",rules:[{required:!0}]}],expression:\"['judgeScore', {initialValue: '5',rules: [{required: true}]}]\"}],attrs:{min:1,max:20}}),e._v(\"\\n          分\\n        \")],1)],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:2===e.currentStep,expression:\"currentStep === 2\"}]},[t(\"a-form-item\",{attrs:{label:\"选择单选题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol,enterButton:\"Search\"}},[t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",size:e.size,placeholder:\"请选择单选题\"},on:{popupScroll:e.popupScroll,change:e.handleRadioChange}},e._l(e.radios,(function(a){return t(\"a-select-option\",{key:a.id,attrs:{value:a.name}},[e._v(\"\\n              \"+e._s(a.name)+\"\\n            \")])})),1)],1),t(\"a-form-item\",{attrs:{label:\"选择多选题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol,enterButton:\"Search\"}},[t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",size:e.size,placeholder:\"请选择多选题\"},on:{popupScroll:e.popupScroll,change:e.handleCheckChange}},e._l(e.checks,(function(a){return t(\"a-select-option\",{key:a.id,attrs:{value:a.name}},[e._v(\"\\n              \"+e._s(a.name)+\"\\n            \")])})),1)],1),t(\"a-form-item\",{attrs:{label:\"选择判断题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol,enterButton:\"Search\"}},[t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",size:e.size,placeholder:\"请选择判断题\"},on:{popupScroll:e.popupScroll,change:e.handleJudgeChange}},e._l(e.judges,(function(a){return t(\"a-select-option\",{key:a.id,attrs:{value:a.name}},[e._v(\"\\n              \"+e._s(a.name)+\"\\n            \")])})),1)],1)],1)])],1),t(\"template\",{slot:\"footer\"},[e.currentStep>0?t(\"a-button\",{key:\"back\",style:{float:\"left\"},on:{click:e.backward}},[e._v(\"上一步\")]):e._e(),t(\"a-button\",{key:\"cancel\",on:{click:e.handleCancel}},[e._v(\"取消\")]),t(\"a-button\",{key:\"forward\",attrs:{loading:e.confirmLoading,type:\"primary\"},on:{click:function(t){return e.handleNext(e.currentStep)}}},[e._v(\"\\n      \"+e._s(2===e.currentStep?\"完成\":\"下一步\")+\"\\n    \")])],1)],2)}),i=[],s=(a(\"efea\"),a(\"9537\")),c=a.n(s),d=[[\"name\",\"elapse\",\"desc\"],[\"radioScore\",\"checkScore\",\"judgeScore\"],[\"option\"]],u={name:\"StepByStepExamModal\",data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},size:\"default\",wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,currentStep:0,mdl:{},form:this.$form.createForm(this),radios:[],checks:[],judges:[]}},updated:function(){this.initSummernote()},methods:{initSummernote:function(){console.log(\"初始化富文本插件\"),c()(\"#summernote-exam-avatar-create\").summernote({lang:\"zh-CN\",placeholder:\"粘贴截图到这即可，图片最好不要大于80*80\",height:200,width:320,htmlMode:!0,toolbar:[],fontSizes:[\"8\",\"9\",\"10\",\"11\",\"12\",\"14\",\"18\",\"24\",\"36\"],fontNames:[\"Arial\",\"Arial Black\",\"Comic Sans MS\",\"Courier New\",\"Helvetica Neue\",\"Helvetica\",\"Impact\",\"Lucida Grande\",\"Tahoma\",\"Times New Roman\",\"Verdana\"]})},create:function(){var e=this;this.visible=!0,Object(n[\"g\"])().then((function(t){console.log(t),0===t.code?(console.log(t.data),e.radios=t.data.radios,e.checks=t.data.checks,e.judges=t.data.judges):e.$notification.error({message:\"获取问题列表失败\",description:t.msg})})).catch((function(t){e.$notification.error({message:\"获取问题列表失败\",description:t.message})}))},popupScroll:function(){console.log(\"popupScroll\")},handleNext:function(e){var t=this,a=this.form.validateFields,r=e+1;r<=2?a(d[this.currentStep],(function(e,a){e||(t.currentStep=r)})):(this.confirmLoading=!0,a((function(e,a){a.avatar=c()(\"#summernote-exam-avatar-create\").summernote(\"code\"),a.radios=t.radios,a.checks=t.checks,a.judges=t.judges,console.log(\"提交数据到后端\"),t.confirmLoading=!1,e?t.confirmLoading=!1:(console.log(\"values:\",a),Object(n[\"a\"])(a).then((function(e){console.log(e),0===e.code&&(t.$notification.success({message:\"创建成功\",description:\"考试创建成功\"}),t.visible=!1,t.$emit(\"ok\"))})).catch((function(e){t.$notification.error({message:\"考试创建失败\",description:e.message})})))})))},backward:function(){this.currentStep--},handleCancel:function(){this.visible=!1,this.currentStep=0},handleRadioChange:function(e){console.log(e);for(var t=0;t<this.radios.length;t++){for(var a=this.radios[t].name,r=!1,o=0;o<e.length;o++){var n=e[o];if(a===n){r=!0,this.radios[t].checked=!0;break}}!1===r&&(this.radios[t].checked=!1)}},handleCheckChange:function(e){console.log(e);for(var t=0;t<this.checks.length;t++){for(var a=this.checks[t].name,r=!1,o=0;o<e.length;o++){var n=e[o];if(a===n){r=!0,this.checks[t].checked=!0;break}}!1===r&&(this.checks[t].checked=!1)}},handleJudgeChange:function(e){console.log(e);for(var t=0;t<this.judges.length;t++){for(var a=this.judges[t].name,r=!1,o=0;o<e.length;o++){var n=e[o];if(a===n){r=!0,this.judges[t].checked=!0;break}}!1===r&&(this.judges[t].checked=!1)}}}},m=u,p=a(\"2877\"),h=Object(p[\"a\"])(m,l,i,!1,null,null,null),f=h.exports,b=function(){var e=this,t=e._self._c;return t(\"a-modal\",{attrs:{title:\"更新考试\",width:640,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[t(\"a-spin\",{attrs:{spinning:e.confirmLoading}},[t(\"a-steps\",{style:{marginBottom:\"28px\"},attrs:{current:e.currentStep,size:\"small\"}},[t(\"a-step\",{attrs:{title:\"考试描述\"}}),t(\"a-step\",{attrs:{title:\"每题分数\"}}),t(\"a-step\",{attrs:{title:\"选择题目\"}})],1),t(\"a-form\",{attrs:{form:e.form}},[t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:0===e.currentStep,expression:\"currentStep === 0\"}]},[t(\"a-form-item\",{attrs:{label:\"考试名称\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input\",{model:{value:e.name,callback:function(t){e.name=t},expression:\"name\"}})],1),t(\"a-form-item\",{attrs:{label:\"考试限时\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input-number\",{attrs:{min:1,max:200},model:{value:e.elapse,callback:function(t){e.elapse=t},expression:\"elapse\"}}),e._v(\"\\n          分钟\\n        \")],1),t(\"a-form-item\",{attrs:{label:\"考试简述\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-textarea\",{attrs:{rows:2},model:{value:e.desc,callback:function(t){e.desc=t},expression:\"desc\"}})],1),t(\"a-form-item\",{attrs:{label:\"考试封面\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"p\",[e._v(\"直接点击列表图片修改，建议图片不要大于80*80\")])])],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:1===e.currentStep,expression:\"currentStep === 1\"}]},[t(\"a-form-item\",{attrs:{label:\"单选题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input-number\",{attrs:{min:1,max:20},model:{value:e.radioScore,callback:function(t){e.radioScore=t},expression:\"radioScore\"}}),e._v(\"\\n          分\\n        \")],1),t(\"a-form-item\",{attrs:{label:\"多选题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input-number\",{attrs:{min:1,max:20},model:{value:e.checkScore,callback:function(t){e.checkScore=t},expression:\"checkScore\"}}),e._v(\"\\n          分\\n        \")],1),t(\"a-form-item\",{attrs:{label:\"判断题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input-number\",{attrs:{min:1,max:20},model:{value:e.judgeScore,callback:function(t){e.judgeScore=t},expression:\"judgeScore\"}}),e._v(\"\\n          分\\n        \")],1)],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:2===e.currentStep,expression:\"currentStep === 2\"}]},[t(\"a-form-item\",{attrs:{label:\"选择单选题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol,enterButton:\"Search\"}},[e.visible?t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",size:e.size,\"default-value\":e.defaultRadios,placeholder:\"请选择单选题\"},on:{popupScroll:e.popupScroll,change:e.handleRadioChange}},e._l(e.radios,(function(a){return t(\"a-select-option\",{key:a.id,attrs:{value:a.name}},[e._v(\"\\n              \"+e._s(a.name)+\"\\n            \")])})),1):e._e()],1),t(\"a-form-item\",{attrs:{label:\"选择多选题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol,enterButton:\"Search\"}},[e.visible?t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",size:e.size,\"default-value\":e.defaultChecks,placeholder:\"请选择多选题\"},on:{popupScroll:e.popupScroll,change:e.handleCheckChange}},e._l(e.checks,(function(a){return t(\"a-select-option\",{key:a.id,attrs:{value:a.name}},[e._v(\"\\n              \"+e._s(a.name)+\"\\n            \")])})),1):e._e()],1),t(\"a-form-item\",{attrs:{label:\"选择判断题\",labelCol:e.labelCol,wrapperCol:e.wrapperCol,enterButton:\"Search\"}},[e.visible?t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",size:e.size,\"default-value\":e.defaultJudges,placeholder:\"请选择判断题\"},on:{popupScroll:e.popupScroll,change:e.handleJudgeChange}},e._l(e.judges,(function(a){return t(\"a-select-option\",{key:a.id,attrs:{value:a.name}},[e._v(\"\\n              \"+e._s(a.name)+\"\\n            \")])})),1):e._e()],1)],1)])],1),t(\"template\",{slot:\"footer\"},[e.currentStep>0?t(\"a-button\",{key:\"back\",style:{float:\"left\"},on:{click:e.backward}},[e._v(\"上一步\")]):e._e(),t(\"a-button\",{key:\"cancel\",on:{click:e.handleCancel}},[e._v(\"取消\")]),t(\"a-button\",{key:\"forward\",attrs:{loading:e.confirmLoading,type:\"primary\"},on:{click:function(t){return e.handleNext(e.currentStep)}}},[e._v(\"\\n      \"+e._s(2===e.currentStep?\"完成\":\"下一步\")+\"\\n    \")])],1)],2)},v=[],g=[[\"name\",\"elapse\",\"desc\",\"avatar\"],[\"radioScore\",\"checkScore\",\"judgeScore\"],[\"option\"]],C={name:\"ExamEditModal\",data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},size:\"default\",wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,currentStep:0,mdl:{},form:this.$form.createForm(this),exam:{},name:\"\",elapse:0,desc:\"\",avatar:\"\",radioScore:0,checkScore:0,judgeScore:0,radios:[],checks:[],judges:[],defaultRadios:[],defaultChecks:[],defaultJudges:[]}},methods:{edit:function(e){var t=this;Object.assign(this.exam,e),this.visible=!0,this.radios=[],this.checks=[],this.judges=[],this.defaultRadios=[],this.defaultChecks=[],this.defaultJudges=[],this.name=e.name,this.elapse=e.elapse,this.desc=e.desc,this.avatar=e.avatar,this.radioScore=e.radioScore,this.checkScore=e.checkScore,this.judgeScore=e.judgeScore;var a=this;Object(n[\"g\"])().then((function(t){console.log(t),0!==t.code&&a.$notification.error({message:\"获取问题列表失败\",description:t.msg}),console.log(t.data),a.radios=t.data.radios,a.checks=t.data.checks,a.judges=t.data.judges;for(var r=0;r<e.radios.length;r++)a.defaultRadios.push(e.radios[r].name);a.handleRadioChange(a.defaultRadios);for(var o=0;o<e.checks.length;o++)a.defaultChecks.push(e.checks[o].name);a.handleCheckChange(a.defaultChecks);for(var n=0;n<e.judges.length;n++)a.defaultJudges.push(e.judges[n].name);a.handleJudgeChange(a.defaultJudges)})).catch((function(e){t.$notification.error({message:\"获取问题列表失败\",description:e.message})}))},popupScroll:function(){console.log(\"popupScroll\")},handleNext:function(e){var t=this,a=this.form.validateFields,r=e+1;if(r<=2)a(g[this.currentStep],(function(e,a){e||(t.currentStep=r)}));else{this.confirmLoading=!0,console.log(\"提交数据到后端\"),this.confirmLoading=!1,this.exam.name=this.name,this.exam.elapse=this.elapse,this.exam.desc=this.desc,this.exam.avatar=this.avatar,this.exam.radioScore=this.radioScore,this.exam.checkScore=this.checkScore,this.exam.judgeScore=this.judgeScore,this.exam.radios=this.radios,this.exam.checks=this.checks,this.exam.judges=this.judges;var o=this;Object(n[\"b\"])(o.exam).then((function(e){console.log(e),0===e.code&&(o.$notification.success({message:\"更新成功\",description:\"考试更新成功\"}),o.visible=!1,o.currentStep=0,o.$emit(\"ok\"))})).catch((function(e){o.$notification.error({message:\"考试更新失败\",description:e.message})}))}},backward:function(){this.currentStep--},handleCancel:function(){this.visible=!1,this.currentStep=0},handleRadioChange:function(e){console.log(e);for(var t=0;t<this.radios.length;t++){for(var a=this.radios[t].name,r=!1,o=0;o<e.length;o++){var n=e[o];if(a===n){r=!0,this.radios[t].checked=!0;break}}!1===r&&(this.radios[t].checked=!1)}},handleCheckChange:function(e){console.log(e);for(var t=0;t<this.checks.length;t++){for(var a=this.checks[t].name,r=!1,o=0;o<e.length;o++){var n=e[o];if(a===n){r=!0,this.checks[t].checked=!0;break}}!1===r&&(this.checks[t].checked=!1)}},handleJudgeChange:function(e){console.log(e);for(var t=0;t<this.judges.length;t++){for(var a=this.judges[t].name,r=!1,o=0;o<e.length;o++){var n=e[o];if(a===n){r=!0,this.judges[t].checked=!0;break}}!1===r&&(this.judges[t].checked=!1)}}}},k=C,S=Object(p[\"a\"])(k,b,v,!1,null,null,null),w=S.exports,x=function(){var e=this,t=e._self._c;return t(\"a-modal\",{attrs:{title:\"编辑封面\",width:400,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[t(\"p\",[e._v(\"截图直接粘贴到下面即可，建议图片不要大于80*80\")]),t(\"div\",{attrs:{id:\"summernote-exam-avatar\"}}),t(\"template\",{slot:\"footer\"},[t(\"a-button\",{key:\"update\",on:{click:e.handleUpdate}},[e._v(\"完成\")]),t(\"a-button\",{key:\"cancel\",on:{click:e.handleCancel}},[e._v(\"关闭\")])],1)],2)},j=[],_={name:\"UpdateAvatarModal\",data:function(){return{confirmLoading:!1,visible:!1,exam:{}}},updated:function(){this.initSummernote(),c()(\"#summernote-exam-avatar\").summernote(\"code\",this.exam.avatar)},methods:{initSummernote:function(){console.log(\"初始化富文本插件\"),c()(\"#summernote-exam-avatar\").summernote({lang:\"zh-CN\",placeholder:\"请输入内容\",height:200,width:320,htmlMode:!0,toolbar:[],fontSizes:[\"8\",\"9\",\"10\",\"11\",\"12\",\"14\",\"18\",\"24\",\"36\"],fontNames:[\"Arial\",\"Arial Black\",\"Comic Sans MS\",\"Courier New\",\"Helvetica Neue\",\"Helvetica\",\"Impact\",\"Lucida Grande\",\"Tahoma\",\"Times New Roman\",\"Verdana\"]})},edit:function(e){this.visible=!0,Object.assign(this.exam,e),this.avatar=e.avatar},handleCancel:function(){this.visible=!1},handleUpdate:function(){var e=this;e.exam.avatar=c()(\"#summernote-exam-avatar\").summernote(\"code\"),Object(n[\"b\"])(e.exam).then((function(t){console.log(t),0===t.code&&(e.$notification.success({message:\"更新成功\",description:\"考试更新成功\"}),e.visible=!1,e.$emit(\"ok\"))})).catch((function(t){e.$notification.error({message:\"考试更新失败\",description:t.message})}))}}},y=_,O=Object(p[\"a\"])(y,x,j,!1,null,null,null),E=O.exports,T={name:\"ExamTableList\",components:{UpdateAvatarModal:E,ExamEditModal:w,StepByStepExamModal:f},data:function(){var e=this;return{columns:[{title:\"序号\",field:\"serial\",formatter:function(e,t,a){return a+1}},{title:\"封面\",field:\"avatar\",width:50,formatter:function(e,t){return'<div class=\"exam-avatar\">'+e+\"</div>\"},events:{\"click .exam-avatar\":function(t,a,r,o){e.handleAvatarEdit(r)}}},{title:\"名称\",field:\"name\",width:250},{title:\"总分数\",field:\"score\"},{title:\"创建人\",field:\"creator\"},{title:\"时长\",field:\"elapse\"},{title:\"更新时间\",field:\"updateTime\"},{title:\"操作\",field:\"action\",width:\"150px\",formatter:function(e,t){return'<button type=\"button\" class=\"btn btn-success view-exam\">详情</button>&nbsp;&nbsp;<button type=\"button\" class=\"btn btn-success edit-exam\">编辑</button>'},events:{\"click .view-exam\":function(t,a,r,o){e.handleSub(r)},\"click .edit-exam\":function(t,a,r,o){e.handleEdit(r)}}}],tableData:[],options:{search:!0,showColumns:!0,showExport:!0,pagination:!0,toolbar:\"#toolbar\",advancedSearch:!0,idTable:\"advancedTable\"}}},mounted:function(){this.loadAll()},methods:{handleEdit:function(e){console.log(\"开始编辑啦\"),console.log(e),this.$refs.editExamModal.edit(e)},handleAvatarEdit:function(e){console.log(\"开始更新封面啦\"),console.log(e),this.$refs.updateAvatarModal.edit(e)},handleSub:function(e){var t=this.$router.resolve({path:\"/exam/\".concat(e.id)});window.open(t.href,\"_blank\")},handleOk:function(){this.loadAll()},loadAll:function(){var e=this;Object(n[\"d\"])().then((function(t){0===t.code?(e.tableData=t.data,e.$refs.table._initTable()):e.$notification.error({message:\"获取全部考试的列表失败\",description:t.msg})}))}}},N=T,L=Object(p[\"a\"])(N,r,o,!1,null,null,null);t[\"default\"]=L.exports}}]);","extractedComments":[]}
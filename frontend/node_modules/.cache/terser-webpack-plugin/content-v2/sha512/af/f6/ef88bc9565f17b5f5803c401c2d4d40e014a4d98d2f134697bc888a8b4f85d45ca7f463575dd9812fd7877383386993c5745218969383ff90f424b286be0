{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-b508e4fa\"],{\"39f0\":function(e,t,n){\"use strict\";n.d(t,\"j\",(function(){return s})),n.d(t,\"n\",(function(){return a})),n.d(t,\"l\",(function(){return r})),n.d(t,\"m\",(function(){return l})),n.d(t,\"d\",(function(){return c})),n.d(t,\"g\",(function(){return u})),n.d(t,\"e\",(function(){return d})),n.d(t,\"a\",(function(){return p})),n.d(t,\"b\",(function(){return m})),n.d(t,\"f\",(function(){return h})),n.d(t,\"h\",(function(){return f})),n.d(t,\"k\",(function(){return v})),n.d(t,\"c\",(function(){return g})),n.d(t,\"i\",(function(){return b}));var o=n(\"365c\"),i=n(\"b775\");function s(){return Object(i[\"b\"])({url:o[\"a\"].ExamQuestionAll,method:\"get\"})}function a(e){return console.log(e),Object(i[\"b\"])({url:o[\"a\"].ExamQuestionUpdate,method:\"post\",data:e})}function r(){return Object(i[\"b\"])({url:o[\"a\"].ExamQuestionSelection,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function l(e){return console.log(e),Object(i[\"b\"])({url:o[\"a\"].ExamQuestionCreate,method:\"post\",data:e})}function c(){return Object(i[\"b\"])({url:o[\"a\"].ExamAll,method:\"get\"})}function u(){return Object(i[\"b\"])({url:o[\"a\"].ExamQuestionTypeList,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function d(){return Object(i[\"b\"])({url:o[\"a\"].ExamCardList,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function p(e){return console.log(e),Object(i[\"b\"])({url:o[\"a\"].ExamCreate,method:\"post\",data:e})}function m(e){return console.log(e),Object(i[\"b\"])({url:o[\"a\"].ExamUpdate,method:\"post\",data:e})}function h(e){return Object(i[\"b\"])({url:o[\"a\"].ExamDetail+e,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function f(e){return Object(i[\"b\"])({url:o[\"a\"].recordDetail+e,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function v(e){return Object(i[\"b\"])({url:o[\"a\"].QuestionDetail+e,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}function g(e,t){return console.log(t),Object(i[\"b\"])({url:o[\"a\"].FinishExam+e,method:\"post\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"},data:t})}function b(){return Object(i[\"b\"])({url:o[\"a\"].ExamRecordList,method:\"get\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})}},\"9e7a\":function(e,t,n){\"use strict\";n.r(t);var o=function(){var e=this,t=e._self._c;return t(\"a-card\",{attrs:{bordered:!1}},[t(\"div\",{attrs:{id:\"toolbar\"}},[t(\"a-button\",{attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.createQuestionModal.create()}}},[e._v(\"新建\")]),e._v(\" \\n    \"),t(\"a-button\",{attrs:{type:\"primary\",icon:\"reload\"},on:{click:function(t){return e.loadAll()}}},[e._v(\"全量刷新\")])],1),t(\"BootstrapTable\",{ref:\"table\",attrs:{columns:e.columns,data:e.tableData,options:e.options}}),t(\"step-by-step-question-modal\",{ref:\"createQuestionModal\",on:{ok:e.handleOk}}),t(\"summernote-update-modal\",{ref:\"questionUpdateModal\",on:{ok:e.handleOk}}),t(\"question-view-modal\",{ref:\"modalView\",on:{ok:e.handleOk}}),t(\"question-edit-modal\",{ref:\"modalEdit\",on:{ok:e.handleOk}})],1)},i=[],s=(n(\"7514\"),n(\"7f7f\"),n(\"cc7e\"),function(){var e=this,t=e._self._c;return t(\"a-modal\",{attrs:{title:\"题目信息\",width:640,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[t(\"a-spin\",{attrs:{spinning:e.confirmLoading}},[t(\"a-form\",{attrs:{form:e.form}},[t(\"h3\",[t(\"b\",[e._v(\"题干：\")])]),t(\"div\",{domProps:{innerHTML:e._s(e.question.name)}}),t(\"br\"),t(\"h3\",[t(\"b\",[e._v(\"选项：\")])]),t(\"ul\",e._l(e.question.options,(function(n){return t(\"li\",{key:n.id,domProps:{innerHTML:e._s(n.content)}})})),0),t(\"br\"),t(\"h3\",[t(\"b\",[e._v(\"答案：\")])]),t(\"ul\",e._l(e.question.options,(function(n){return t(\"li\",{directives:[{name:\"show\",rawName:\"v-show\",value:!0===n.answer,expression:\"option.answer===true\"}],key:n.id,domProps:{innerHTML:e._s(n.content)}})})),0),t(\"br\"),t(\"h3\",[t(\"b\",[e._v(\"解析：\")])]),t(\"div\",{domProps:{innerHTML:e._s(e.question.description)}})])],1),t(\"template\",{slot:\"footer\"},[t(\"a-button\",{key:\"cancel\",on:{click:e.handleCancel}},[e._v(\"关闭\")])],1)],2)}),a=[],r={name:\"QuestionViewModal\",data:function(){return{visible:!1,confirmLoading:!1,form:this.$form.createForm(this),question:{},options:[],answerOption:\"\"}},methods:{edit:function(e){this.visible=!0,this.question=e},handleCancel:function(){this.visible=!1}}},l=r,c=n(\"2877\"),u=Object(c[\"a\"])(l,s,a,!1,null,null,null),d=u.exports,p=function(){var e=this,t=e._self._c;return t(\"a-modal\",{attrs:{title:\"编辑题目\",width:640,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[t(\"a-spin\",{attrs:{spinning:e.confirmLoading}},[t(\"a-form\",{attrs:{form:e.form}},[t(\"h3\",[t(\"b\",[e._v(\"题干：\")])]),t(\"div\",{attrs:{id:\"summernote-question-name-edit\"}}),t(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"多选题\"===e.question.type,expression:\"question.type==='多选题'\"}]},e._l(e.question.options,(function(n){return t(\"li\",{key:n.id},[t(\"a-input\",{model:{value:n.content,callback:function(t){e.$set(n,\"content\",t)},expression:\"option.content\"}})],1)})),0),t(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"多选题\"!==e.question.type,expression:\"question.type!=='多选题'\"}]},e._l(e.question.options,(function(n){return t(\"li\",{key:n.id},[t(\"a-input\",{model:{value:n.content,callback:function(t){e.$set(n,\"content\",t)},expression:\"option.content\"}})],1)})),0),t(\"h3\",[t(\"b\",[e._v(\"答案：\")])]),t(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"多选题\"!==e.question.type,expression:\"question.type!=='多选题'\"}]},[t(\"li\",[t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{size:e.size,value:e.answerOptionId},on:{change:e.handleSingleChange}},e._l(e.question.options,(function(n){return t(\"a-select-option\",{key:n.id},[e._v(\"\\n              \"+e._s(n.content)+\"\\n            \")])})),1)],1)]),t(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"多选题\"===e.question.type,expression:\"question.type==='多选题'\"}]},[t(\"li\",[t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",size:e.size,placeholder:\"Please select\",value:e.answerOptionIds},on:{change:e.handleMultiChange,popupScroll:e.popupScroll}},e._l(e.question.options,(function(n){return t(\"a-select-option\",{key:n.id},[e._v(\"\\n              \"+e._s(n.content)+\"\\n            \")])})),1)],1)]),t(\"h3\",[t(\"b\",[e._v(\"解析：\")])]),t(\"div\",{attrs:{id:\"summernote-question-desc-edit\"}})])],1),t(\"template\",{slot:\"footer\"},[t(\"a-button\",{key:\"cancel\",on:{click:e.handleCancel}},[e._v(\"关闭\")]),t(\"a-button\",{key:\"update\",attrs:{type:\"primary\"},on:{click:e.handleUpdate}},[e._v(\"更新\")])],1)],2)},m=[],h=(n(\"efea\"),n(\"9537\")),f=n.n(h),v=n(\"39f0\"),g={name:\"QuestionEditModal\",data:function(){return{visible:!1,size:\"default\",confirmLoading:!1,form:this.$form.createForm(this),question:{},answerOptionId:\"\",answerOptionIds:[],radioStyle:{display:\"block\",height:\"30px\",lineHeight:\"30px\"},name:\"\",desc:\"\"}},updated:function(){this.initSummernote(\"summernote-question-name-edit\"),this.initSummernote(\"summernote-question-desc-edit\"),this.setSummernoteContent(\"summernote-question-name-edit\",this.name),this.setSummernoteContent(\"summernote-question-desc-edit\",this.desc)},methods:{initSummernote:function(e){console.log(\"初始化富文本插件：\"+e),f()(\"#\"+e).summernote({lang:\"zh-CN\",placeholder:\"请输入内容\",height:200,width:\"100%\",htmlMode:!0,toolbar:[[\"style\",[\"bold\",\"italic\",\"underline\",\"clear\"]],[\"fontsize\",[\"fontsize\"]],[\"fontname\",[\"fontname\"]],[\"para\",[\"ul\",\"ol\",\"paragraph\"]]],fontSizes:[\"8\",\"9\",\"10\",\"11\",\"12\",\"14\",\"18\",\"24\",\"36\"],fontNames:[\"Arial\",\"Arial Black\",\"Comic Sans MS\",\"Courier New\",\"Helvetica Neue\",\"Helvetica\",\"Impact\",\"Lucida Grande\",\"Tahoma\",\"Times New Roman\",\"Verdana\"],callbacks:{onSubmit:function(){this.richContent=f()(\"#summernote\").summernote(\"code\")}}})},getSummernoteContent:function(e){return f()(\"#\"+e).summernote(\"code\")},setSummernoteContent:function(e,t){return f()(\"#\"+e).summernote(\"code\",t)},edit:function(e){this.name=e.name,this.desc=e.description,this.question=e,this.answerOptionId=\"\",this.answerOptionIds=[],this.visible=!0;for(var t=0;t<this.question.options.length;t++)!0===this.question.options[t].answer&&(this.answerOptionId=this.question.options[t].id,this.answerOptionIds.push(this.question.options[t].id))},handleCancel:function(){this.visible=!1},handleSingleChange:function(e){for(var t=0;t<this.question.options.length;t++)this.question.options[t].id===e?(this.question.options[t].answer=!0,this.answerOptionId=this.question.options[t].id):this.question.options[t].answer=!1;console.log(\"Selected: \".concat(e))},handleMultiChange:function(e){console.log(e),this.answerOptionIds=e;for(var t=0;t<this.question.options.length;t++){for(var n=this.question.options[t].id,o=!1,i=0;i<e.length;i++){var s=e[i];if(n===s){o=!0,this.question.options[t].answer=!0;break}}!1===o&&(this.question.options[t].answer=!1)}},popupScroll:function(){console.log(\"popupScroll\")},handleUpdate:function(){var e=this;e.question.name=e.getSummernoteContent(\"summernote-question-name-edit\"),e.question.description=e.getSummernoteContent(\"summernote-question-desc-edit\"),console.log(e.question),Object(v[\"n\"])(e.question).then((function(t){console.log(t),0===t.code&&(e.$notification.success({message:\"更新成功\",description:\"问题更新成功\"}),e.visible=!1,e.$emit(\"ok\"))})).catch((function(t){e.$notification.error({message:\"更新\",description:t.message})}))}}},b=g,w=Object(c[\"a\"])(b,p,m,!1,null,null,null),y=w.exports,q=function(){var e=this,t=e._self._c;return t(\"a-modal\",{attrs:{title:\"创建问题\",width:800,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[t(\"a-spin\",{attrs:{spinning:e.confirmLoading}},[t(\"a-steps\",{style:{marginBottom:\"28px\"},attrs:{current:e.currentStep,size:\"small\"}},[t(\"a-step\",{attrs:{title:\"问题内容\"}}),t(\"a-step\",{attrs:{title:\"问题分类\"}}),t(\"a-step\",{attrs:{title:\"问题选项\"}})],1),t(\"a-form\",{attrs:{form:e.form}},[t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:0===e.currentStep,expression:\"currentStep === 0\"}]},[t(\"a-form-item\",{attrs:{label:\"题干\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"div\",{attrs:{id:\"summernote-question-name\"}})]),t(\"a-form-item\",{attrs:{label:\"解析\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"div\",{attrs:{id:\"summernote-question-desc\"}})])],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:1===e.currentStep,expression:\"currentStep === 1\"}]},[t(\"a-form-item\",{attrs:{label:\"题型\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"type\",{rules:[{required:!0}]}],expression:\"['type', {rules: [{required: true}]}]\"}],staticStyle:{width:\"100%\"},attrs:{placeholder:\"请选择题型\"}},e._l(e.types,(function(n){return t(\"a-select-option\",{key:n.id,attrs:{value:n.id}},[e._v(\"\\n              \"+e._s(n.description)+\"\\n            \")])})),1)],1),t(\"a-form-item\",{attrs:{label:\"归类\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"category\",{rules:[{required:!0}]}],expression:\"['category', { rules: [{required: true}]}]\"}],staticStyle:{width:\"100%\"},attrs:{placeholder:\"请选择分类\"}},e._l(e.categories,(function(n){return t(\"a-select-option\",{key:n.id,attrs:{value:n.id}},[e._v(\"\\n              \"+e._s(n.name)+\"\\n            \")])})),1)],1),t(\"a-form-item\",{attrs:{label:\"难度\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"level\",{rules:[{required:!0}]}],expression:\"['level', { rules: [{required: true}]}]\"}],staticStyle:{width:\"100%\"},attrs:{placeholder:\"请选择难度\"}},e._l(e.levels,(function(n){return t(\"a-select-option\",{key:n.id,attrs:{value:n.id}},[e._v(\"\\n              \"+e._s(n.description)+\"\\n            \")])})),1)],1)],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:2===e.currentStep,expression:\"currentStep === 2\"}]},[3!==e.type?t(\"a-form-item\",{attrs:{label:\"创建选项\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"option\",{rules:[{required:!0}]}],expression:\"['option', { rules: [{required: true}]}]\"}],attrs:{placeholder:\"输入内容后按Enter添加到下方选项列表\"},on:{pressEnter:function(t){return e.addOption()}}})],1):e._e(),t(\"a-form-item\",{attrs:{label:\"设置答案\",labelCol:e.labelCol,wrapperCol:e.wrapperCol,enterButton:\"Search\"}},[1===e.type?t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{placeholder:\"请选择单选题的答案\",value:e.answerOption},on:{change:e.handleSingleChange}},e._l(e.options,(function(n,o){return t(\"a-select-option\",{key:o,attrs:{value:n.content}},[e._v(\"\\n              \"+e._s(n.content)+\"\\n            \")])})),1):e._e(),2===e.type?t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",size:e.size,placeholder:\"请选择多选题的答案\",value:e.answerOptions},on:{popupScroll:e.popupScroll,change:e.handleMultiChange}},e._l(e.options,(function(n,o){return t(\"a-select-option\",{key:o,attrs:{value:n.content}},[e._v(\"\\n              \"+e._s(n.content)+\"\\n            \")])})),1):e._e(),3===e.type?t(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{placeholder:\"请选择判断题的答案\",value:e.answerOption},on:{change:e.handleSingleChange}},e._l(e.options,(function(n,o){return t(\"a-select-option\",{key:o,attrs:{value:n.content}},[e._v(\"\\n              \"+e._s(n.content)+\"\\n            \")])})),1):e._e()],1)],1)])],1),t(\"template\",{slot:\"footer\"},[e.currentStep>0?t(\"a-button\",{key:\"back\",style:{float:\"left\"},on:{click:e.backward}},[e._v(\"上一步\")]):e._e(),t(\"a-button\",{key:\"cancel\",on:{click:e.handleCancel}},[e._v(\"取消\")]),t(\"a-button\",{key:\"forward\",attrs:{loading:e.confirmLoading,type:\"primary\"},on:{click:function(t){return e.handleNext(e.currentStep)}}},[e._v(\"\\n      \"+e._s(2===e.currentStep?\"完成\":\"下一步\")+\"\\n    \")])],1)],2)},C=[],S=[[],[\"type\",\"category\",\"level\"],[\"option\"]],k={name:\"StepByStepQuestionModal\",data:function(){return{labelCol:{xs:{span:2},sm:{span:2}},size:\"default\",wrapperCol:{xs:{span:22},sm:{span:22}},answerOption:\"\",answerOptions:[],visible:!1,confirmLoading:!1,currentStep:0,mdl:{},form:this.$form.createForm(this),categories:[],levels:[],types:[],optionToAdd:\"添加\",options:[],judgeOptions:[{answer:!1,content:\"正确\"},{answer:!1,content:\"错误\"}],type:\"\"}},updated:function(){this.initSummernote(\"summernote-question-name\"),this.initSummernote(\"summernote-question-desc\")},methods:{initSummernote:function(e){console.log(\"初始化富文本插件：\"+e),f()(\"#\"+e).summernote({lang:\"zh-CN\",placeholder:\"请输入内容\",height:150,width:\"100%\",htmlMode:!0,toolbar:[[\"style\",[\"bold\",\"italic\",\"underline\",\"clear\"]],[\"fontsize\",[\"fontsize\"]],[\"fontname\",[\"fontname\"]],[\"para\",[\"ul\",\"ol\",\"paragraph\"]]],fontSizes:[\"8\",\"9\",\"10\",\"11\",\"12\",\"14\",\"18\",\"24\",\"36\"],fontNames:[\"Arial\",\"Arial Black\",\"Comic Sans MS\",\"Courier New\",\"Helvetica Neue\",\"Helvetica\",\"Impact\",\"Lucida Grande\",\"Tahoma\",\"Times New Roman\",\"Verdana\"],callbacks:{onSubmit:function(){this.richContent=f()(\"#summernote\").summernote(\"code\")}}})},getSummernoteContent:function(e){return f()(\"#\"+e).summernote(\"code\")},create:function(){var e=this;this.visible=!0,Object(v[\"l\"])().then((function(t){console.log(t),0===t.code?(console.log(t.data),e.categories=t.data.categories,e.levels=t.data.levels,e.types=t.data.types):e.$notification.error({message:\"获取问题下拉选项失败\",description:t.msg})})).catch((function(t){e.$notification.error({message:\"获取问题下拉选项失败\",description:t.message})}))},popupScroll:function(){console.log(\"popupScroll\")},handleNext:function(e){var t=this,n=this.form.validateFields,o=e+1;o<=2?n(S[this.currentStep],(function(e,n){e||(t.currentStep=o,t.type=n.type,t.answerOptions=[],t.answerOption=\"\",3===t.type?t.options=t.judgeOptions:t.options=[])})):(this.confirmLoading=!0,n((function(e,n){console.log(\"提交数据到后端\"),console.log(\"errors:\",e,\"val:\",n),n.options=t.options,n.name=t.getSummernoteContent(\"summernote-question-name\"),n.desc=t.getSummernoteContent(\"summernote-question-desc\"),t.confirmLoading=!1,e?t.confirmLoading=!1:(console.log(\"values:\",n),Object(v[\"m\"])(n).then((function(e){console.log(e),0===e.code&&(t.$notification.success({message:\"创建成功\",description:\"问题创建成功\"}),t.visible=!1,t.$emit(\"ok\"))})).catch((function(e){t.$notification.error({message:\"更新\",description:e.message})})))})))},backward:function(){this.currentStep--},handleCancel:function(){this.visible=!1,this.currentStep=0},addOption:function(){var e=this;console.log(\"添加选项\");var t=this.form.validateFields;t((function(t,n){console.log(\"errors:\",t,\"val:\",n);for(var o=0;o<e.options.length;o++){var i=e.options[o];if(i.content===n.option)return void e.$notification.error({message:\"错误\",description:\"不要添加重复选项！\"})}var s={content:n.option,answer:!1};e.options.push(s),e.$notification.success({message:\"创建选项成功\",description:\"请到'设置答案'下拉框去查看！\"})}))},handleSingleChange:function(e){for(var t=0;t<this.options.length;t++)this.options[t].content===e?(this.options[t].answer=!0,this.answerOption=this.options[t].content):this.options[t].answer=!1;console.log(\"Selected: \".concat(e))},handleMultiChange:function(e){console.log(e),this.answerOptions=e;for(var t=0;t<this.options.length;t++){for(var n=this.options[t].content,o=!1,i=0;i<e.length;i++){var s=e[i];if(n===s){o=!0,this.options[t].answer=!0;break}}!1===o&&(this.options[t].answer=!1)}}}},_=k,O=Object(c[\"a\"])(_,q,C,!1,null,null,null),x=O.exports,j=function(){var e=this,t=e._self._c;return t(\"a-modal\",{attrs:{title:e.title,width:600,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[t(\"div\",{attrs:{id:e.divId}}),t(\"template\",{slot:\"footer\"},[t(\"a-button\",{key:\"update\",on:{click:e.handleUpdate}},[e._v(\"完成\")]),t(\"a-button\",{key:\"cancel\",on:{click:e.handleCancel}},[e._v(\"关闭\")])],1)],2)},T=[],$={name:\"SummernoteUpdateModal\",data:function(){return{confirmLoading:!1,visible:!1,divId:\"summernote-id\",record:{},key:\"\",content:\"\",title:\"\",fn:Function}},updated:function(){this.initSummernote(this.divId),f()(\"#\"+this.divId).summernote(\"code\",this.content)},methods:{initSummernote:function(e){console.log(\"初始化富文本插件：\"+e),f()(\"#\"+e).summernote({lang:\"zh-CN\",placeholder:\"请输入内容\",height:300,width:\"100%\",htmlMode:!0,toolbar:[[\"style\",[\"bold\",\"italic\",\"underline\",\"clear\"]],[\"fontsize\",[\"fontsize\"]],[\"fontname\",[\"fontname\"]],[\"para\",[\"ul\",\"ol\",\"paragraph\"]]],fontSizes:[\"8\",\"9\",\"10\",\"11\",\"12\",\"14\",\"18\",\"24\",\"36\"],fontNames:[\"Arial\",\"Arial Black\",\"Comic Sans MS\",\"Courier New\",\"Helvetica Neue\",\"Helvetica\",\"Impact\",\"Lucida Grande\",\"Tahoma\",\"Times New Roman\",\"Verdana\"]})},getSummernoteContent:function(e){return f()(\"#\"+e).summernote(\"code\")},setSummernoteContent:function(e,t){return f()(\"#\"+e).summernote(\"code\",t)},edit:function(e,t,n,o,i){this.divId=e,this.visible=!0,Object.assign(this.record,t),this.key=n,this.content=this.record[n],this.title=o,this.fn=i},handleCancel:function(){this.visible=!1},handleUpdate:function(){var e=this;e.record[e.key]=f()(\"#\"+e.divId).summernote(\"code\"),e.fn(e.record).then((function(t){console.log(t),0===t.code&&(e.$notification.success({message:\"更新成功\",description:\"更新成功\"}),e.visible=!1,e.$emit(\"ok\"))})).catch((function(t){e.$notification.error({message:\"更新失败\",description:t.message})}))}}},L=$,N=Object(c[\"a\"])(L,j,T,!1,null,null,null),M=N.exports,I={name:\"QuestionTableList\",components:{SummernoteUpdateModal:M,StepByStepQuestionModal:x,QuestionViewModal:d,QuestionEditModal:y},data:function(){var e=this;return{columns:[{title:\"序号\",field:\"serial\",formatter:function(e,t,n){return n+1}},{title:\"题干\",field:\"name\",width:200,formatter:function(e,t){return'<div class=\"question-name\" style=\"height: 100%;width: 100%\">'+e+\"</div>\"},events:{\"click .question-name\":function(t,n,o,i){e.$refs.questionUpdateModal.edit(\"summernote-question-name-update\",o,\"name\",\"更新题干\",v[\"n\"])}}},{title:\"解析\",field:\"description\",width:200,formatter:function(e,t){return'<div class=\"question-desc\">'+e+\"</div>\"},events:{\"click .question-desc\":function(t,n,o,i){e.$refs.questionUpdateModal.edit(\"summernote-question-desc-update\",o,\"description\",\"更新题目解析\",v[\"n\"])}}},{title:\"分数\",field:\"score\",formatter:function(e,t){return'<div class=\"question-score\">'+e+\"</div>\"},events:{\"click .question-score\":function(e,t,n,o){var i=f()(e.target);i.html('<input type=\"text\" value=\"'+t+'\">')}}},{title:\"创建人\",field:\"creator\"},{title:\"难度\",field:\"level\",formatter:function(e,t){return'<div class=\"question-level\">'+e+\"</div>\"},events:{\"click .question-level\":function(t,n,o,i){var s=f()(t.target);s.children().length>0||Object(v[\"l\"])().then((function(t){if(console.log(t),0===t.code){console.log(t.data);for(var o=t.data.levels,i=\"<select>\",a=0;a<o.length;a++)o[a].description===n?i+='<option value =\"'+o[a].id+'\" name=\"'+o[a].name+'\" selected=\"selected\">'+o[a].description+\"</option>\":i+='<option value =\"'+o[a].id+'\" name=\"'+o[a].name+'\">'+o[a].description+\"</option>\";i+=\"</select>\",s.html(i)}else e.$notification.error({message:\"获取问题下拉选项失败\",description:t.msg})}))}}},{title:\"题型\",field:\"type\",formatter:function(e,t){return'<div class=\"question-type\">'+e+\"</div>\"},events:{\"click .question-type\":function(t,n,o,i){var s=f()(t.target);s.children().length>0||Object(v[\"l\"])().then((function(t){if(console.log(t),0===t.code){console.log(t.data);for(var o=t.data.types,i=\"<select>\",a=0;a<o.length;a++)o[a].description===n?i+='<option value =\"'+o[a].id+'\" name=\"'+o[a].name+'\" selected=\"selected\">'+o[a].description+\"</option>\":i+='<option value =\"'+o[a].id+'\" name=\"'+o[a].name+'\">'+o[a].description+\"</option>\";i+=\"</select>\",s.html(i)}else e.$notification.error({message:\"获取问题下拉选项失败\",description:t.msg})}))}}},{title:\"学科\",field:\"category\",formatter:function(e,t){return'<div class=\"question-category\">'+e+\"</div>\"},events:{\"click .question-category\":function(t,n,o,i){var s=f()(t.target);s.children().length>0||Object(v[\"l\"])().then((function(t){if(console.log(t),0===t.code){console.log(t.data);for(var o=t.data.categories,i=\"<select>\",a=0;a<o.length;a++)o[a].name===n?i+='<option value =\"'+o[a].id+'\" name=\"'+o[a].description+'\" selected=\"selected\">'+o[a].name+\"</option>\":i+='<option value =\"'+o[a].id+'\" name=\"'+o[a].description+'\">'+o[a].name+\"</option>\";i+=\"</select>\",s.html(i)}else e.$notification.error({message:\"获取问题下拉选项失败\",description:t.msg})}))}}},{title:\"更新时间\",field:\"updateTime\"},{title:\"操作\",field:\"action\",align:\"center\",formatter:function(e,t){return'<button type=\"button\" class=\"btn btn-success view-question\">详情</button>&nbsp;&nbsp;<button type=\"button\" class=\"btn btn-success edit-question\">编辑</button>'},events:{\"click .view-question\":function(t,n,o,i){e.handleSub(o)},\"click .edit-question\":function(t,n,o,i){e.handleEdit(o)}}}],tableData:[],options:{search:!0,showColumns:!0,showExport:!0,pagination:!0,toolbar:\"#toolbar\",advancedSearch:!0,idTable:\"advancedTable\",onDblClickCell:e.dblClickCell}}},mounted:function(){this.loadAll()},methods:{handleEdit:function(e){this.$refs.modalEdit.edit(e)},handleSub:function(e){console.log(e),this.$refs.modalView.edit(e)},handleOk:function(){this.loadAll()},dblClickCell:function(e,t,n,o){if(\"score\"===e){var i=o.children(\".question-score\").children(\"input\");if(0===i.length)return;n.score=i[0].value;var s=this;Object(v[\"n\"])(n).then((function(e){console.log(e),0===e.code&&(o.children(\".question-score\").text(n.score),s.$notification.success({message:\"更新成功\",description:\"更新成功\"}))}))}if(\"level\"===e){var a=o.children(\".question-level\").children(\"select\");if(0===a.length)return;var r=f()(a[0]).find(\"option:selected\");n.levelId=r.val(),console.log(n.levelId),n.level=r.text(),console.log(n.level);var l=this;Object(v[\"n\"])(n).then((function(e){console.log(e),0===e.code&&(o.children(\".question-level\").text(n.level),l.$notification.success({message:\"更新成功\",description:\"更新成功\"}))}))}if(\"type\"===e){var c=o.children(\".question-type\").children(\"select\");if(0===c.length)return;var u=f()(c[0]).find(\"option:selected\");n.typeId=u.val(),n.type=u.text();var d=this;Object(v[\"n\"])(n).then((function(e){console.log(e),0===e.code&&(o.children(\".question-type\").text(n.type),d.$notification.success({message:\"更新成功\",description:\"更新成功\"}))}))}if(\"category\"===e){var p=o.children(\".question-category\").children(\"select\");if(console.log(p),0===p.length)return;var m=f()(p[0]).find(\"option:selected\");n.categoryId=m.val(),n.category=m.text();var h=this;Object(v[\"n\"])(n).then((function(e){console.log(e),0===e.code&&(o.children(\".question-category\").text(n.category),h.$notification.success({message:\"更新成功\",description:\"更新成功\"}))}))}},loadAll:function(){var e=this;Object(v[\"j\"])().then((function(t){0===t.code?(e.tableData=t.data,e.$refs.table._initTable()):e.$notification.error({message:\"获取全部问题的列表失败\",description:t.msg})}))}}},z=I,E=Object(c[\"a\"])(z,o,i,!1,null,null,null);t[\"default\"]=E.exports}}]);","extractedComments":[]}